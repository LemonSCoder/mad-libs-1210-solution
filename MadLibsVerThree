import java.util.Scanner;
public class MadLibsVerThree {
    public static boolean firstTime = true;
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("Input a Mad Lib (for any input, the type of input should be in angle brackets ex. <noun>): ");
        String originalStory = sc.nextLine();
        System.out.println(generateStory(originalStory));
        sc.close();
    }
    public static String generateStory(String originalStory) {
        String finalStory = "";
        int subStringLen = 0;
        Scanner sc = new Scanner(System.in);
        for (int i = 0; i < originalStory.length(); i++) {
            //if (originalStory.indexOf("<") == i) {
            try {
                if (i + 6 <= originalStory.length()) {
                    if (originalStory.substring(i, i + 6).equals("<noun>")) {
                        System.out.print("Input a noun: ");
                        String newNoun = sc.nextLine();
                        if (firstTime == true) {
                            finalStory += originalStory.substring(0, i) + newNoun;
                            subStringLen += originalStory.substring(0, i+7).length();
                            firstTime = false;
                        } else {
                            finalStory += originalStory.substring(subStringLen - 1, i) + newNoun;
                            subStringLen += originalStory.substring(subStringLen, i+7).length();
                        }
                    } else if (originalStory.substring(i, i + 6).equals("<verb>")) {
                        System.out.print("Input a verb: ");
                        String newVerb = sc.nextLine();
                        if (firstTime == true) {
                            finalStory += originalStory.substring(0, i) + newVerb;
                            subStringLen += originalStory.substring(0, i+7).length();
                            firstTime = false;
                        } else {
                            finalStory += originalStory.substring(subStringLen - 1, i) + newVerb;
                            subStringLen += originalStory.substring(subStringLen, i+7).length();
                        }
                    } else if (originalStory.substring(i, i+11).equals("<adjective>")) {
                        System.out.print("Input an adjective: ");
                        String newAdjective = sc.nextLine();
                        if (firstTime == true) {
                            finalStory += originalStory.substring(0, i) + newAdjective;
                            subStringLen += originalStory.substring(0, i+12).length();
                            firstTime = false;
                        } else if (firstTime == false) {
                            finalStory += originalStory.substring(subStringLen - 1, i) + newAdjective;
                            subStringLen += originalStory.substring(subStringLen, i+12).length();
                        }
                    } else if (originalStory.substring(i, i+8).equals("<adverb>")) {
                        System.out.print("Input an adverb: ");
                        String newAdverb = sc.nextLine();
                        //I'll fix this later.
                        if (firstTime == true) {
                            finalStory += originalStory.substring(0, i) + newAdverb;
                            subStringLen += originalStory.substring(0, i+9).length();
                            firstTime = false;
                        } else {
                            finalStory += originalStory.substring(subStringLen - 1, i) + newAdverb;
                            subStringLen += originalStory.substring(subStringLen, i+9).length();
                        }
                    } else if (originalStory.substring(i, i+13).equals("<plural noun>")) {
                        System.out.print("Input a plural noun: ");
                        String newPluralNoun = sc.nextLine();
                        //I'll fix this later.
                        if (firstTime == true) {
                            finalStory += originalStory.substring(0, i) + newPluralNoun;
                            subStringLen += originalStory.substring(0, i+14).length();
                            firstTime = false;
                        } else {
                            finalStory += originalStory.substring(subStringLen - 1, i) + newPluralNoun;
                            subStringLen += originalStory.substring(subStringLen, i+14).length();
                        }
                    }
                }
            } catch (Exception e) {
                ;
            }
        }
        //}
        sc.close();
        return finalStory;
    }
}
